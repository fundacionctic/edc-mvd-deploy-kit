# ============================================
# PARTICIPANT IDENTITY CONFIGURATION
# ============================================

# Participant DID (Decentralized Identifier)
# Development: did:web:host.docker.internal%3A7083 (standardized Docker hostname with URL-encoded port)
# Production: did:web:participant.yourdomain.com (public DNS, port 443 implicit)
PARTICIPANT_DID=did:web:host.docker.internal%3A7083

# Participant Public DNS/Hostname (for DID resolution)
# Development: host.docker.internal (standardized Docker hostname)
# Production: participant.yourdomain.com
PARTICIPANT_PUBLIC_HOST=host.docker.internal
PARTICIPANT_PUBLIC_PORT=7083

# Participant Key Configuration
# These keys are used for signing and verification
PARTICIPANT_KEY_ALIAS=key-1
PARTICIPANT_PUBLIC_KEY_FILE=assets/keys/consumer_public.pem
PARTICIPANT_PRIVATE_KEY_FILE=assets/keys/consumer_private.pem

# ============================================
# API AUTHENTICATION
# ============================================

# ⚠️  CRITICAL: CHANGE THESE FOR PRODUCTION!
# Default values are insecure and only for development

# Management API authentication key
MANAGEMENT_API_KEY=password

# Catalog API authentication key
CATALOG_API_KEY=password

# Identity API authentication key
IDENTITY_API_KEY=password

# IdentityHub superuser key (base64 encoded)
# Format: base64(username).base64(password)
# Default: super-user / super-secret-key
SUPERUSER_API_KEY=c3VwZXItdXNlcg==.c3VwZXItc2VjcmV0LWtleQo=

# ============================================
# VAULT CONFIGURATION
# ============================================

# HashiCorp Vault root token
# ⚠️  CRITICAL: CHANGE FOR PRODUCTION!
# Default is for development mode only
VAULT_TOKEN=root-token

# ============================================
# DATABASE CONFIGURATION
# ============================================

# PostgreSQL database credentials
# ⚠️  CRITICAL: CHANGE FOR PRODUCTION!
# These are shared by IdentityHub, Controlplane, and Dataplane

DB_USER=mvd_user
DB_PASSWORD=mvd_password
DB_NAME=mvd

# ============================================
# PORT MAPPINGS (Host:Container)
# ============================================

# IdentityHub Ports
IDENTITYHUB_PORT=7080              # Main API
IDENTITYHUB_CREDENTIALS_PORT=7081  # Credentials API
IDENTITYHUB_IDENTITY_PORT=7082     # Identity API
IDENTITYHUB_DID_PORT=7083          # DID endpoint (public)
IDENTITYHUB_STS_PORT=7086          # Secure Token Service API
IDENTITYHUB_DEBUG_PORT=1044        # Remote debugging (Java)

# Controlplane Ports
CONTROLPLANE_PORT=8080             # Main API
CONTROLPLANE_MGMT_PORT=8081        # Management API (create assets, policies, etc.)
CONTROLPLANE_DSP_PORT=8082         # Dataspace Protocol endpoint (connector-to-connector)
CONTROLPLANE_CONTROL_PORT=8083     # Control API (internal, for dataplane communication)
CONTROLPLANE_CATALOG_PORT=8084     # Catalog API (query available assets)
CONTROLPLANE_DEBUG_PORT=1045       # Remote debugging (Java)

# Dataplane Ports
DATAPLANE_PUBLIC_PORT=11001        # Public API (actual data transfer endpoint)
DATAPLANE_CONTROL_PORT=11002       # Control API (internal, receives transfer requests)
DATAPLANE_PORT=11003               # Main API
DATAPLANE_DEBUG_PORT=1046          # Remote debugging (Java)

# Infrastructure Ports
POSTGRES_PORT=5432                 # PostgreSQL database
VAULT_PORT=8200                    # HashiCorp Vault

# ============================================
# BUILD CONFIGURATION
# ============================================

# MVD Git reference to use (branch name or commit ID)
# This determines which version of the Eclipse EDC MVD source to build
# Common values:
#   - release/0.14.0 (stable release)
#   - main (latest development)
#   - 69e4b0b (specific commit - currently used)
MVD_REF=69e4b0b

# ============================================
# ISSUER SERVICE CONFIGURATION
# ============================================

# Issuer Public DNS/Hostname (for DID resolution)
# Development: host.docker.internal (standardized Docker hostname)
# Production: issuer.yourdomain.com
# Note: ISSUER_DID is generated dynamically from ISSUER_PUBLIC_HOST and ISSUER_DID_PORT
ISSUER_PUBLIC_HOST=host.docker.internal

# Issuer Service Ports
ISSUER_HTTP_PORT=10010           # Main API endpoint
ISSUER_STS_PORT=10011            # Secure Token Service
ISSUER_ISSUANCE_PORT=10012       # Credential issuance endpoint
ISSUER_ADMIN_PORT=10013          # Admin API (CRITICAL for seeding!)
ISSUER_VERSION_PORT=10014        # Version/capabilities endpoint
ISSUER_IDENTITY_PORT=10015       # Identity/credential service
ISSUER_DID_API_PORT=10016        # DID resolution endpoint
ISSUER_DEBUG_PORT=1044           # Remote debugging (Java)

# Issuer DID Server Port (NGINX serving DID document)
ISSUER_DID_PORT=9876

# Issuer Database Configuration
# Separate database for issuer service
ISSUER_DB_NAME=issuer
ISSUER_DB_USER=issuer
ISSUER_DB_PASSWORD=issuer

# Issuer Vault Configuration
# Can use same Vault instance or separate one
ISSUER_VAULT_TOKEN=root

# Issuer Authentication
# Superuser key for admin endpoints (base64 encoded)
# Format: base64(username).base64(password)
# Default: super-user / super-secret-key
# ⚠️  CRITICAL: CHANGE FOR PRODUCTION!
ISSUER_SUPERUSER_KEY=c3VwZXItdXNlcg==.c3VwZXItc2VjcmV0LWtleQo=

# Identity API authentication key
ISSUER_IDENTITY_API_KEY=password

# Issuer Signing Key Configuration
ISSUER_SIGNING_KEY_ALIAS=statuslist-signing-key

# Note: Issuer key files are generated dynamically
# Run: python3 scripts/issuer/generate_keys.py
# Default paths: assets/keys/issuer_public.pem and assets/keys/issuer_private.pem

# ============================================
# COMPUTED URLs
# ============================================
# These URLs are computed from the above settings and used by scripts.
# They should generally not be edited directly.

# ============================================
# NOTES
# ============================================
# URLs are constructed dynamically by scripts based on the above configuration.
# Do not hardcode localhost or host.docker.internal in URLs.
